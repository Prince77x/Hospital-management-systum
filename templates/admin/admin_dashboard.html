<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Admin Dashboard</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/admin.css') }}"
    />
  </head>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
    }

    .container {
      width: 95%;
      margin: auto;
      background: white;
      padding: 20px;
    }

    .title {
      text-align: center;
      margin-bottom: 20px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .search-form input {
      padding: 6px;
      width: 220px;
    }

    section {
      margin-bottom: 30px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card {
      display: flex;
      justify-content: space-between;
      padding: 10px;
      border: 1px solid #ccc;
      margin: 10px 0;
      background: #fafafa;
    }

    .actions .btn {
      margin-left: 5px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    table,
    th,
    td {
      border: 1px solid #ccc;
    }

    th,
    td {
      padding: 10px;
      text-align: center;
    }

    /* Buttons */
    .btn {
      padding: 5px 10px;
      border: none;
      cursor: pointer;
    }

    .actions {
      display: flex;
      gap: 5px;
    }

    .search-btn {
      background: #007bff;
      color: white;
    }

    .create-btn {
      background: #28a745;
      color: white;
    }

    .edit {
      background: #ffc107;
    }

    .delete {
      background: #dc3545;
      color: white;
    }

    .blacklist {
      background: #6c757d;
      color: white;
    }

    .view {
      background: #007bff;
      color: white;
    }
  </style>
  <body>
    <div class="container">
      <h1 class="title">Admin Dashboard</h1>

      <!-- Top Bar -->
      <div class="top-bar">
        <span class="welcome">Welcome {{ admin_name }}</span>

        <form method="GET" class="search-form">
          <input
            type="text"
            name="q"
            placeholder="doctor, patient, department.."
          />
          <button type="submit" class="btn search-btn">Search</button>
        </form>
        <a href="{{ url_for('logout_admin') }}"
          ><button style="background-color: #dc3545">logout</button></a
        >
      </div>

      <!-- Registered Doctors -->
      <section>
        <div class="section-header">
          <h2>Registered Doctors</h2>
          <a href="{{ url_for('add_doctor') }}">
            <button class="btn create-btn">Create</button>
          </a>
        </div>

        <div class="card">
          <span>Doctor Name</span>
          <span> Speciality </span>
        </div>

        <div style="max-height: 300px; overflow-y: auto">
          {% for doc in doctors %}
          <div class="card">
            <span>{{ doc.doc_name }}</span>
            <span>{{ doc.speciality }}</span>
            <div class="actions">
              <a href="{{ url_for('edit_doctor', doctor_id=doc.id) }}"><button class="btn edit">Edit</button></a>
              <a href="{{ url_for('delete_doctor', doctor_id=doc.id )}}"><button class="btn delete">Delete</button></a>
              <a href="{{ url_for('view_doctor', doctor_id= doc.id )}}"><button class="btn blacklist">View Doctor</button></a>
            </div>
          </div>
          {% endfor %}
        </div>
      </section>

      <!-- Registered Patients -->
      <section>
        <h2>Registered Patients</h2>
        <div style="max-height: 300px; overflow-y: auto">
          {% for patient in patients %}
          <div class="card">
            <span>{{ patient.pat_name }}</span>
            
            <div class="actions">
              <a href="{{ url_for('edit_patient', patient_id=patient.id) }}"><button class="btn edit">Edit</button></a>
              <a href="{{ url_for('delete_patient', patient_id=patient.id) }}"><button class="btn delete">Delete</button></a>
             <!--  <a href=" "><button class="btn blacklist">Blacklist</button></a>-->
            </div>
          </div>
          {% endfor %}
        </div>

    <!-- Department table -->
      <section>
        <h2>Departments</h2><span> <a href="{{url_for('add_department')}}"><button>Add</button></a></span>
         
        <div style="max-height: 300px; overflow-y: auto">
          {% for dep in departments %}
          <div class="card">
            <span>{{ dep.dept_name }}</span>
            
            <div class="actions">
               
              <a href="{{ url_for('delete_department', department_id=dep.id) }}"><button class="btn delete">Delete</button></a>
              
            </div>
          </div>
          {% endfor %}
        </div>
        

      <!-- Upcoming Appointments -->
      <section>
        <h2>Upcoming Appointments</h2>

        <table>
          <thead>
            <tr>
              <th>Sr No.</th>
              <th>Patient Name</th>
              <th>Doctor Name</th>
              <th>Department</th>
              <th>Patient History</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1001</td>
              <td>Mr. abcde</td>
              <td>Dr. pqrst</td>
              <td>Cardiology</td>
              <td>
                <button class="btn view">View</button>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>
  </body>
</html>
